<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Pricing Calculator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <style>
      body, .jumbotron { padding: 30px; }
      .text-giant  {
        font-size: 30px;
      }
    </style>
  </head>
  <body>
    <div class="jumbotron">
    <h2>How much do pies cost?</h2>

      <form>

        <div class="form-group">
          <label for="price">Price</label>
          <input type="text" class="form-control" name="price" value="30">
        </div>

        <div class="form-group">
          <label for="quantity" class="form">
            Quantity:
            <span class="label label-primary quantity-label">1</span>
          </label>
          <input type="range" class="form-range" name="quantity" min="0" max="10" value="1" step="1">
      </form>

      <div class="text-end text-giant total"></div>
    </div>

    <!-- ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ start javascript ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ -->
    <script>
      // 1 grab everyghint we need
      const priceInput    = document.querySelector('[name="price"]');
      const quantityInput = document.querySelector('[name="quantity"]');
      const totalDiv      = document.querySelector('.total');
      const quantityLabel = document.querySelector('.quantity-label');

      // 3 create the functions that we'll need
      function calculatePieCost() {
        // console.log(priceInput.value);
        const price     = priceInput.value;
        const quantity  = quantityInput.value;
        const cost     = price * quantity;

        totalDiv.innerText = 'Â£' + cost.toFixed(2);
      }

      function updateQuantity() {
        const quantity  = quantityInput.value;
        console.log(quantity);
        quantityLabel.innerText = quantity;
      }

      // on first run
      calculatePieCost()

      // 2 add our event listeners :
      //attach our functions to the DOM with our event listeners
      priceInput.addEventListener('input', calculatePieCost);
      quantityInput.addEventListener('input', calculatePieCost);
      quantityInput.addEventListener('input', updateQuantity);
    </script>
  </body>
</html>
